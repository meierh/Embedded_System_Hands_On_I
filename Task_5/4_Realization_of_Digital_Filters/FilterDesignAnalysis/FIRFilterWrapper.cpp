#include <boost/python.hpp>
#include "FIRFilter.h"
#include "BandpassFilterCoefficients.H"

double NuttalWindow_fc10KHz_fs1500Hz_N20[21] =
{
    0.000000000000000000004253308519220963015,
    0.000074667429161935584738113425018468661,
    0.000505633795131200805897386807430393674,
    0.000619245125354309978484013132771224264,
    -0.003454754239834230151312555179288210638,
    -0.014486040014796485592141195297699596267,
    -0.018551153749797145292577127406730141956,
    0.019681440747691934106677891236358846072,
    0.121128729896247275266141230076755164191,
    0.244109657333017204816627554464503191411,
    0.300745147355648001497030463724513538182,
    0.244109657333017260327778785722330212593,
    0.121128729896247303021716845705668674782,
    0.01968144074769194104557179514358722372,
    -0.018551153749797152231471031313958519604,
    -0.014486040014796496000482051158542162739,
    -0.003454754239834232319716900150297078653,
    0.000619245125354310629005316624073884668,
    0.000505633795131200914317604055980837074,
    0.000074667429161934026197490477105844775,
    0.000000000000000000004253308519220963015
};

class FIRFilterWrapper : public FIRFilter<float,561>
{
    public:
        FIRFilterWrapper():FIRFilter<float,561>(BandpassFilter){}
};

BOOST_PYTHON_MODULE(FIRFilterWrapper)
{
    boost::python::class_<FIRFilterWrapper>("FIRFilterWrapper", boost::python::init<>())
    .def("__call__", &FIRFilterWrapper::operator());
}

// Compile: g++ -fPIC -shared FIRFilterWrapper.cpp /usr/lib/x86_64-linux-gnu/libboost_python310.so -o FIRFilterWrapper.so
